{"version":3,"sources":["Services/user.services.js","Context/UserContext.js","Pages/Login.jsx","Components/Comment.jsx","Components/AddComments.jsx","Components/Post.jsx","Components/PostContainerPost.jsx","Pages/User.jsx","Components/PostContainer.jsx","Components/Addpost.jsx","Pages/Admin.jsx","Pages/ReferUser.jsx","Components/LockRoutes.jsx","App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","services","login","username","password","a","fetch","method","headers","body","JSON","stringify","response","ok","json","data","verifyToken","token","UserContext","React","createContext","TOKEN_KEY","UserProvider","props","useState","undefined","setToken","user","setUser","useEffect","verifyTokenAsync","lsToken","getToken","userService","role","setTokenAll","localStorage","setItem","useCallback","loginAsync","status","tokenRes","console","error","logout","value","useMemo","Provider","useUserContext","context","useContext","Error","getItem","Login","user_name","setUser_name","set_Password","setError","onChange","e","save","target","onSubmitHandler","preventDefault","logged","to","className","onSubmit","id","type","placeholder","Comment","ch","description","AddComment","id_value","id_comment","inputVal","setInputVal","shape","axios","patch","Authorization","Post","p","title","image","likes","comments","_id","active","some","it","liked","setLiked","length","likesCount","setLikesCount","commentState","setCommentState","Favpost","setFavpost","navigate","useNavigate","log","src","alt","onClick","AddComments","comment","val","map","item","Date","toISOString","PostContainer","posts","setPost","pageCount","setpageCount","page","setPage","get","result","pages","getPost","PreviousBtn","NextBtn","User","Whoami","setWhoami","getIdentity","PostContainerPost","Addpost","formdata","FormData","dat","Object","fromEntries","entries","swalt","post","res","reset","htmlFor","name","Admin","showAddPost","setShowAddPost","showOwn","setShowOwn","showall","setShowall","rolePages","ReferUser","replace","LockRoutes","children","App","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1aecbf5e.chunk.js","sourcesContent":["const BASE_URL = \"https://posts-pw2021.herokuapp.com/api/v1\";\r\n\r\nconst services = {};\r\n\r\nservices.login = async (username, password) => {\r\n    const response = await fetch(`${BASE_URL}/auth/signin`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n            username: username,\r\n            password: password\r\n        })\r\n    });\r\n\r\n    if (response.ok) {\r\n        const data = await response.json();\r\n        return data;\r\n    }\r\n\r\n    return {};\r\n}\r\n\r\nservices.verifyToken = async (token) => {\r\n    const response = await fetch(`${BASE_URL}/auth/whoami`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    });\r\n\r\n    if (response.ok) {\r\n        const data = await response.json();\r\n        return data;\r\n    }\r\n\r\n    return {};\r\n}\r\n\r\n\r\nexport default services;","import React, { useState, useEffect, useMemo, useCallback } from \"react\";\r\nimport userService from '../Services/user.services'\r\n\r\nconst UserContext = React.createContext();\r\nconst TOKEN_KEY = \"token\";\r\n\r\nexport const UserProvider = (props) => {\r\n    const [token, setToken] = useState(undefined);\r\n    const [user, setUser] = useState(undefined);\r\n\r\n    useEffect(() => {\r\n        const verifyTokenAsync = async () => {\r\n            const lsToken = getToken();\r\n\r\n            if(lsToken) {\r\n                const { username, role } = await userService.verifyToken(lsToken);\r\n                if(username && role) {\r\n                    setUser({ username, role });\r\n                    setTokenAll(lsToken);\r\n                }\r\n            }\r\n        }\r\n\r\n        verifyTokenAsync();\r\n    }, [token])\r\n\r\n    const setTokenAll = (token) => {\r\n        localStorage.setItem(TOKEN_KEY, token);\r\n        setToken(token);\r\n    }\r\n\r\n    const login = useCallback((username, password)=> {\r\n        const loginAsync = async () => {\r\n            let status = false;\r\n            try {\r\n                const { token: tokenRes } = await userService.login(username, password);\r\n\r\n                if(tokenRes) {\r\n                    setTokenAll(tokenRes);\r\n                    status = true;\r\n                }\r\n            } catch (error) {\r\n                console.error(error);\r\n                console.error(\"Error in login\");\r\n            } finally {\r\n                return status;\r\n            }\r\n        };\r\n\r\n        return loginAsync();\r\n    }, [])\r\n\r\n    const logout = useCallback(() => {\r\n        setUser(undefined);\r\n        setTokenAll(undefined);\r\n    }, [])\r\n\r\n    const value = useMemo(()=> ({\r\n        token: token,\r\n        user: user,\r\n        login: login,\r\n        logout: logout\r\n    }), [token, user, login, logout]);\r\n\r\n    return <UserContext.Provider value={value} {...props} />;\r\n    \r\n}\r\n\r\nexport const useUserContext = () => {\r\n    const context = React.useContext(UserContext);\r\n\r\n    if (!context) {\r\n        throw new Error(\"useUserContext() must be inside of UserProvider\");\r\n    }\r\n\r\n    return context;\r\n}\r\n\r\nconst getToken = () => localStorage.getItem(TOKEN_KEY);","import { useState } from 'react';\r\n\r\nimport { useUserContext } from '../Context/UserContext'\r\n\r\nimport { Navigate } from 'react-router-dom';\r\n\r\n\r\nexport default function Login() {\r\n    const { login, token } = useUserContext();\r\n\r\n    const [user_name, setUser_name] = useState('');\r\n    const [password, set_Password] = useState('');\r\n\r\n    const [error, setError] = useState(false);\r\n\r\n    const onChange = (e, save) => {\r\n        save(e.target.value);\r\n    }\r\n\r\n    const onSubmitHandler = async (e) => {\r\n        e.preventDefault();\r\n        const logged = await login(user_name, password);\r\n\r\n        setError(!logged);\r\n        setUser_name(\"\");\r\n        set_Password(\"\");\r\n    }\r\n\r\n    if (token) {\r\n        return <Navigate to=\"/refer\" />\r\n         }\r\n    //Aqui se le pedirá las credenciales, si digita alguna de las credenciales incorrectas, se muestra un mensaje de error\r\n\r\n    return (\r\n        <div className=\"flex justify-center items-center min-h-screen\">\r\n            <main className=\"rounded-md p-8 md:p-10 shadow-2xl border-8\">\r\n                <form onSubmit={onSubmitHandler} className=\"flex flex-col gap-4 items-center justify-center h-96\">\r\n                    <h2 className=\"font-extrabold uppercase  font-monserrat text-4xl mb-14\">Your Account</h2>\r\n\r\n                    \r\n                    <i className=\"fa fa-user\">  User</i> \r\n                    <input id=\"place\" className=\" bg-gray-100 opacity-60 font-medium w-full text-black p-2 rounded\"\r\n                        \r\n                        type='text'\r\n                        value={user_name}\r\n                        placeholder='Enter your username'\r\n                        onChange={(e) => onChange(e, setUser_name)}\r\n                        \r\n                        \r\n                    />\r\n                    \r\n                    <i className=\"fa fa-unlock-alt\">  Password</i> \r\n                    <input id=\"holder\" className=\" bg-gray-100 opacity-60 font-medium w-full text-black p-2 rounded\"\r\n                        type=\"password\"\r\n                        placeholder=\"Enter your password\"\r\n                        onChange={(e) => onChange(e, set_Password)}\r\n                        value={password}\r\n                    />\r\n                    {error && <p className=\"w-full rounded p-3 text-center text-transparent-dark-dark-dark-light font-extrabold font-roboto bg-transparent-dark-dark-dark-dark-dark-dark select-none animate-pulse\">\r\n                        Un error ha ocurrido, intenta de nuevo\r\n                    </p>}\r\n\r\n                    <button className=\"animate-bounce rounded-lg mt-8 w-full transition border border-black duration-300 ease-in-out text-xl text-extrabold bg-gradient-to-r from-green-600 to-blue-500 hover:from-blue-500 hover:to-green-600 py-2 px-4 text-transparent-dark-dark-dark-light\">Sign In </button>\r\n                    \r\n                \r\n                </form>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n","import React from \"react\";\r\n\r\nconst Comment = ({ ch }) => {\r\n   \r\n    const{ description, user } = ch;\r\n    \r\n    return (\r\n        <div className=\"w-full border-t-4 bg-gray-400 text-sm mb-2\">\r\n            <h1 className=\" text-transparent-dark\"> usuario: @{ user?.username }</h1>\r\n            <p>-{description}</p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Comment;","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\n\r\nconst AddComment = ({ id_value, id_comment }) => {\r\n    const [inputVal, setInputVal] = useState('');\r\n\r\n    function onChange(e) {\r\n        setInputVal(e.target.value);\r\n    }\r\n    \r\n    async function onSubmit(e) {\r\n        e.preventDefault();\r\n        \r\n        const shape = {\r\n            description: inputVal,\r\n        };\r\n        \r\n        await axios.patch(`https://posts-pw2021.herokuapp.com/api/v1/post/comment/${id_value}`, shape, {\r\n            headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n        });\r\n\r\n        setInputVal('');\r\n\r\n        id_comment(shape);\r\n    }\r\n\r\n    return (\r\n        <form className=\"w-full\" onSubmit={onSubmit}>\r\n            <input\r\n                value={inputVal}\r\n                onChange={onChange}\r\n                className=\"px-4 py-2 w-full rounded-2xl text-gray-800 border-2 border-black text-xs\"\r\n                type=\"text\"\r\n                placeholder=\"Presiona enter para comentar\"\r\n            />\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default AddComment;","import React, { useState } from \"react\";import { ChatAlt2Icon, ThumbUpIcon, BookmarkIcon, PencilAltIcon, ArrowsExpandIcon, EyeIcon } from '@heroicons/react/solid';\r\nimport axios from \"axios\";\r\nimport Comment from \"../Components/Comment\";\r\nimport AddComments from \"../Components/AddComments\";\r\nimport { Navigate, useNavigate } from 'react-router-dom';\r\n\r\nconst Post = ({ p, username }) => {\r\n\r\n    const { title, image, description, user, likes, comments, _id, active } = p;\r\n    const [liked, setLiked] = useState(likes.some((it) => it.username === username));\r\n    const [likesCount, setLikesCount] = useState(likes.length);\r\n    const [commentState, setCommentState] = useState(comments);\r\n    const [Favpost, setFavpost] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    const onClick = (e) => {\r\n        navigate(`/updateposting/${_id}`)\r\n    }\r\n\r\n    async function toggle(e) {\r\n        e.preventDefault();\r\n        \r\n        const body = {\r\n            active: !active,\r\n        };\r\n        \r\n        await axios.patch(`https://posts-pw2021.herokuapp.com/api/v1/post/toggle/${_id}`, body, {\r\n            headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n        });\r\n\r\n        console.log(_id);\r\n        console.log(body);\r\n    }\r\n\r\n    function Commentpost(comment) {\r\n        const val = [...commentState, { ...comment, user: { username } }];\r\n\r\n        setCommentState(val);\r\n    }\r\n\r\n\r\n    async function likePost() {\r\n        try {\r\n            const { data } = await axios.patch(`https://posts-pw2021.herokuapp.com/api/v1/post/like/${_id}`, null, {\r\n                headers: {\r\n                    Authorization: 'Bearer ' + localStorage.getItem('token'),\r\n                },\r\n            });\r\n\r\n            if (!liked) {\r\n                setLikesCount(likesCount + 1);\r\n                setLiked(true);\r\n            } else {\r\n                setLikesCount(likesCount - 1);\r\n                setLiked(false);\r\n            }\r\n\r\n        }\r\n        catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    async function addfavorites() {\r\n        try {\r\n            const { data } = await axios.patch(`https://posts-pw2021.herokuapp.com/api/v1/post/fav/${_id}`, null, {\r\n                headers: {\r\n                    Authorization: 'Bearer ' + localStorage.getItem('token'),\r\n                },\r\n            });\r\n\r\n            if (!liked) {\r\n                setLikesCount(likesCount + 1);\r\n                setLiked(true);\r\n            } else {\r\n                setLikesCount(likesCount - 1);\r\n                setLiked(false);\r\n            }\r\n\r\n        }\r\n        catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\" w-8/12 h-96 rounded-2xl shadow-2xl drop-shadow-2xl relative m-8 flex flex-row bg-gray-300\">\r\n            <div className=\" w-11/12 p-3 overflow-y-auto\">\r\n                <div className=\"px-4\">\r\n                    <div>\r\n                        <h2 className=\"font-roboto text-xl capitalize mb-2 font-semibold\">\r\n                            {user?.username}\r\n                        </h2>\r\n                        <h2 className=\"font-roboto text-xl capitalize text-center border-t-4 \">\r\n                            {title}\r\n                        </h2>\r\n                    </div>\r\n                    <div className=\"flex justify-center\">\r\n                        {image && <img src={image} alt=\"logo\" className=\" wl-60 h-44 \" />}\r\n                    </div>\r\n                    <div className=\"mt-2 mb-2\">\r\n                        {description}\r\n                    </div>\r\n                    <div className=\"flex justify-center space-around mt-4\">\r\n                        <button\r\n                            onClick={likePost}\r\n                            type=\"button\"\r\n                            className={`flex space-x-2 text-xs justify-center items-center w-1/2 ${liked && 'text-blue-400 '}`}\r\n                        >\r\n                            <span><ThumbUpIcon className=\"w-5  h-5 x-8\" /></span>\r\n                            { likesCount }\r\n                        </button>\r\n                        <button className=\"flex space-x-2 text-xs justify-center items-center mr-2\">\r\n                            <span><ChatAlt2Icon className=\"w-5 h-5 x-8\" /></span>\r\n                            { commentState.length }\r\n                        </button>\r\n                        <button onClick={() => setFavpost(!Favpost)} className={`flex space-x-2 text-xs justify-center items-center w-1/2 ${Favpost && 'text-blue-400 '}`}>\r\n                            <span><BookmarkIcon className=\"w-5 h-5 x-8\" /></span>                   \r\n                        </button>\r\n\r\n                        <button className=\"flex space-x-2 text-xs justify-center items-center\">\r\n                            <span><ArrowsExpandIcon className=\"w-5 h-5 x-8\" /></span>                      \r\n                        </button>\r\n                        <button onClick={(e) => onClick(e)} className=\"flex space-x-2 text-xs justify-center items-center\">\r\n                            <span><PencilAltIcon className=\"w-5 h-5 x-8\" /></span>                    \r\n                        </button>\r\n                        <button onClick={toggle} className=\"flex space-x-2 text-xs justify-center items-center \">\r\n                            <span><EyeIcon className=\"w-5 h-5 x-8\" /></span>                                           \r\n                        </button>\r\n                        </div>\r\n                        <div className=\"mt-4 border-black\">\r\n                            <AddComments id_value={_id} id_comment={Commentpost} />\r\n                        </div>\r\n                </div>\r\n            </div>\r\n            <div className=\" w-11/12 p-4 overflow-y-auto bg-gray-400 rounded-r-2xl\">\r\n                <div className=\"flex justify-center text-white\">Comentarios</div>\r\n                <div className=\"mt-4\">\r\n                    { comments && commentState.map((item) => (<Comment key={new Date().toISOString} ch={item}/>))}                      \r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Post;","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Post from \"./Post\";\r\n\r\nconst PostContainer = ({username}) => {\r\n    const [posts, setPost] = useState({\r\n        status: 'Loading',\r\n        data: null,\r\n    });\r\n    const [pageCount, setpageCount] = useState(0);\r\n    const [page, setPage] = useState(0);\r\n\r\n    useEffect(() => {\r\n        \r\n        async function getPost() {\r\n            const { data: result } = await axios.get(`https://posts-pw2021.herokuapp.com/api/v1/post/all?limit=${10}&page=${page}`, {\r\n                headers: {\r\n                    Authorization: 'Bearer ' + localStorage.getItem('token')\r\n                },\r\n            });\r\n            setpageCount(result.pages);\r\n            setPost({ status: 'DONE', data: result.data });\r\n        }\r\n\r\n        getPost();\r\n    }, [page]);\r\n\r\n    const PreviousBtn = () => {\r\n        if (page < pageCount) {\r\n            setPage(PreviousBtn =>\r\n            PreviousBtn - 1)\r\n        }\r\n      };\r\n    \r\n        //Funcion para el boton next\r\n        const NextBtn =() =>{\r\n          if(page+1 < pageCount){\r\n            setPage(NextBtn =>\r\n              NextBtn + 1)   \r\n          }\r\n        }\r\n\r\n    if (posts.status === 'Loading') {\r\n        return <h1>Loading...</h1>;\r\n    }\r\n\r\n    return (\r\n       <div>\r\n            <div className=\"flex flex-wrap px-6 py-10 justify-center items-center\">\r\n            {\r\n                posts.data && posts.data.map((item) => \r\n                   <Post username={username} key={item._id} p={item} />\r\n                )\r\n            }\r\n            </div>\r\n            <div className=\"flex justify-around h-11 m-5\">\r\n                <div className=\"mr-4 w-80 rounded-lg shadow-2xl\">\r\n                    <button onClick={PreviousBtn} className=\"flex text-start rounded-lg shadow-2xl items-center justify-center w-full h-full bg-red-600 hover:bg-gray-900 text-white ml-4 \">     \r\n                        Atras           \r\n                    </button>\r\n                </div>\r\n                <div className=\"mr-4 w-80 rounded-lg shadow-2xl\">\r\n                    <button onClick={NextBtn} className=\"flex text-start rounded-lg shadow-2xl items-center justify-center w-full h-full bg-red-600 hover:bg-gray-900 text-white ml-4 \">     \r\n                        Siguiente          \r\n                    </button>\r\n                </div>\r\n            </div>\r\n       </div>\r\n\r\n    );\r\n\r\n}\r\n\r\nexport default PostContainer;","import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport PostContainerPost from \"../Components/PostContainerPost\";\r\nimport { useUserContext } from \"../Context/UserContext\";\r\nimport { useNavigate } from 'react-router-dom'\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default function User() {\r\n    const [showAddPost, setShowAddPost] = useState(false);\r\n    const navigate = useNavigate()\r\n    const { logout } = useUserContext();\r\n    const [Whoami, setWhoami] = useState();\r\n    \r\n    const logoutHandler = () => {\r\n        logout()\r\n        navigate(\"/login\")\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function getIdentity() {\r\n            const { data } = await axios.get('https://posts-pw2021.herokuapp.com/api/v1//auth/whoami', {\r\n                headers: {\r\n                    Authorization: 'Bearer ' + localStorage.getItem('token')\r\n                }\r\n                \r\n            });\r\n            setWhoami(data.username);\r\n        }\r\n        getIdentity();\r\n\r\n    }, []);\r\n    return (\r\n        <div className=\"mb-4 ml-4\">\r\n            <button onClick={logoutHandler} className=\"rounded-lg w-32 transition border justify-center border-black duration-300 ease-in-out text-xl text-extrabold border-none bg-transparent-dark-dark-dark-dark-dark hover:bg-transparent-dark-dark-dark-dark-dark-dark-dark py-2 px-4 text-transparent-dark-dark-dark-light m-5\">\r\n                Log out\r\n            </button>\r\n            <PostContainerPost username={Whoami}/>\r\n            \r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Post from \"./Post\";\r\n\r\nconst PostContainer = ({username}) => {\r\n    const [posts, setPost] = useState({\r\n        status: 'Loading',\r\n        data: null,\r\n    });\r\n    const [pageCount, setpageCount] = useState(0);\r\n    const [page, setPage] = useState(0);\r\n\r\n    useEffect(() => {\r\n        async function getPost() {\r\n            const { data: result } = await axios.get(`https://posts-pw2021.herokuapp.com/api/v1/post/owned?limit=${15}&page=${page}`, {\r\n                headers: {\r\n                    Authorization: 'Bearer ' + localStorage.getItem('token')\r\n                },\r\n            });\r\n            setpageCount(result.pages);\r\n            setPost({ status: 'DONE', data: result.data });\r\n        }\r\n\r\n        getPost();\r\n    }, [page]);\r\n\r\n    const PreviousBtn = () => {\r\n        if (page < pageCount) {\r\n            setPage(PreviousBtn =>\r\n            PreviousBtn - 1)\r\n        }\r\n      };\r\n    \r\n        //Funcion para el boton next\r\n        const NextBtn =() =>{\r\n          if(page+1 < pageCount){\r\n            setPage(NextBtn =>\r\n              NextBtn + 1)   \r\n          }\r\n        }\r\n\r\n    if (posts.status === 'Loading') {\r\n        return <h1>Loading...</h1>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"flex flex-wrap px-6 py-10 justify-center items-center\">\r\n            {\r\n                posts.data && posts.data.map((item) => \r\n                   <Post username={username} key={item._id} p={item} />\r\n                )\r\n            }\r\n            </div>\r\n            <div className=\"flex justify-around h-11 m-5\">\r\n                <div className=\"mr-4 w-80 rounded-lg shadow-2xl\">\r\n                    <button onClick={PreviousBtn} className=\"flex text-start rounded-lg shadow-2xl items-center justify-center w-full h-full bg-red-600 hover:bg-gray-900 text-white ml-4 \">     \r\n                        Atras           \r\n                    </button>\r\n                </div>\r\n                <div className=\"mr-4 w-80 rounded-lg shadow-2xl\">\r\n                    <button onClick={NextBtn} className=\"flex text-start rounded-lg shadow-2xl items-center justify-center w-full h-full bg-red-600 hover:bg-gray-900 text-white ml-4 \">     \r\n                        Siguiente          \r\n                    </button>\r\n                </div>\r\n            </div>\r\n       </div>\r\n\r\n    );\r\n\r\n}\r\n\r\nexport default PostContainer;","import React from \"react\"\r\nimport axios from \"axios\";\r\nimport swalt from \"sweetalert\";\r\n\r\nconst Addpost = ()  => {\r\n    async function onSubmit(e){\r\n        try{\r\n        const formdata = new FormData(e.target);\r\n        const dat = Object.fromEntries(formdata.entries());\r\n \r\n        if (dat.title === '' || dat.description === ''){\r\n            e.preventDefault();\r\n            return swalt(\"Titulo y descripcion no pueden estar vacios\");\r\n        } \r\n        if (dat.title.length < 8 || dat.title.length > 32){\r\n            e.preventDefault();\r\n            return swalt(\"La longitud del titulo debe estar entre 8 y 32 caracteres\");\r\n        }\r\n        if (dat.description.length<8){\r\n            e.preventDefault();\r\n            return swalt(\"La descripcion debe contener como minimo 8 caracteres\");\r\n        }\r\n    \r\n        const res = await axios.post('https://posts-pw2021.herokuapp.com/api/v1/post/create', {...dat, active: dat.active === 'on'},{\r\n            headers: {\r\n                Authorization: 'Bearer ' + localStorage.getItem('token')\r\n            },\r\n            \r\n        });\r\n\r\n        console.log(res);}\r\n        catch(err){\r\n            console.log(err.response);\r\n        }\r\n        e.target.reset()\r\n\r\n      \r\n    }\r\n    \r\n    return(\r\n        <form id=\"FormPost\"onSubmit={onSubmit} className=\"space-y-4 text-center w-screen pr-80 pl-80 font-bold  \">\r\n            <div className=\"flex flex-col w-max\">\r\n                <label htmlFor=\"title\">Titulo</label>\r\n                <input className=\"my-1 mx-32 w-96 pl-3 rounded bg-gray-300 border-gray-800 border-2\" type=\"text\" name=\"title\" id=\"title\"/>\r\n            </div>\r\n            <div className=\"flex flex-col \">\r\n                <label htmlFor=\"description\">Descripción</label>\r\n                <input className=\"my-1 mx-32 w-96 pl-3 rounded bg-gray-300 border-gray-800 border-2\" type=\"text\" name=\"description\" id=\"description\"/>\r\n            </div>\r\n            <div className=\"flex flex-col \">\r\n                <label htmlFor=\"image\">Imagen</label>\r\n                <input className=\"my-1 mx-32 w-96 pl-3 rounded bg-gray-300 border-gray-800 border-2\" type=\"text\" name=\"image\" id=\"image\"/>\r\n            </div>\r\n\r\n            <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-sm w-auto\">Enviar</button>\r\n            \r\n        </form>\r\n    );\r\n}\r\n    \r\n\r\nexport default Addpost;","import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport PostContainer from \"../Components/PostContainer\";\r\nimport { PlusIcon } from '@heroicons/react/solid';\r\nimport Addpost from \"../Components/Addpost\";\r\nimport { useUserContext } from \"../Context/UserContext\";\r\nimport PostContainerPost from \"../Components/PostContainerPost\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default function Admin() {\r\n    const [showAddPost, setShowAddPost] = useState(false);\r\n    const navigate = useNavigate()\r\n    const { logout } = useUserContext()\r\n    const user = localStorage.getItem('token')\r\n    const [showOwn, setShowOwn] = useState(false);\r\n    const [showall, setShowall] = useState(false);\r\n    const [Whoami, setWhoami] = useState();\r\n    \r\n    const logoutHandler = () => {\r\n        logout()\r\n        navigate(\"/login\")\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function getIdentity() {\r\n            const { data } = await axios.get('https://posts-pw2021.herokuapp.com/api/v1//auth/whoami', {\r\n                headers: {\r\n                    Authorization: 'Bearer ' + localStorage.getItem('token')\r\n                }\r\n\r\n            });\r\n            setWhoami(data.username);\r\n        }\r\n        getIdentity();\r\n\r\n    }, []);\r\n    return (\r\n        <div className=\"flex flex-col w-screen\">\r\n            \r\n          <div className=\"flex flex-row w-screen justify-around mt-8\">\r\n            <div className=\" p-2 w-32 mb-2  flex flex-row \">\r\n              \r\n            </div>\r\n    \r\n            <div className=\"flex justify-center w-2\">\r\n              {showAddPost && <Addpost />}\r\n            </div>\r\n    \r\n            <div>\r\n              <div className=\"rounded-lg p-2 w-32 mb-2 bg-transparent-dark-dark-dark-dark-dark flex flex-row hover:bg-transparent-dark-dark-dark-dark-dark-dark-dark py-2 px-4 text-transparent-dark-dark-dark-light\">\r\n                <button\r\n                  onClick={() => setShowAddPost(!showAddPost)}\r\n                  type=\"button\"\r\n                  className=\"flex text-start rounded-lg items-center text-white justify-center w-min border-black duration-300 ease-in-out text-xl text-extrabold border-none\"\r\n                >\r\n                  Agregar \r\n                  <PlusIcon className=\" ml-2 w-8 h-8 stroke mr-20  x-8 text-center items-center\" />\r\n                </button>\r\n              </div>\r\n              <div className=\"flex justify-center mb-5 mt-5\">\r\n                <button\r\n                  onClick={logoutHandler}\r\n                  className=\"rounded-lg w-32 transition border justify-center border-black duration-300 ease-in-out text-xl text-extrabold border-none bg-transparent-dark-dark-dark-dark-dark hover:bg-transparent-dark-dark-dark-dark-dark-dark-dark py-2 px-4 text-transparent-dark-dark-dark-light\"\r\n                >\r\n                  Log out\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex  justify-center h-11 mt-10\">\r\n            <div className=\"mr-4 w-80\">\r\n              <button\r\n                onClick={() => setShowOwn(!showOwn)}\r\n                className=\"flex shadow-lg rounded-lg text-start items-center justify-center w-full h-full bg-red-600 hover:bg-gray-900 text-white ml-4 \"\r\n              >\r\n                Mostrar mis posts\r\n              </button>\r\n            </div>\r\n            <div className=\"mr-4 w-80\">\r\n              <button\r\n                onClick={() => setShowall(!showall)}\r\n                className=\"flex shadow-2xl rounded-lg text-start items-center justify-center w-full h-full bg-red-600 hover:bg-gray-900 text-white ml-4 \"\r\n              >\r\n                Mostrar todos los posts\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div>{showOwn && <PostContainer username={Whoami} />}</div>\r\n          <div>{showall && <PostContainerPost username={Whoami} />}</div>\r\n        </div>\r\n      );\r\n}","import { useUserContext } from \"../Context/UserContext\";\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst rolePages = {\r\n  \"admin\": \"/admin\",\r\n  \"user\": \"/user\"\r\n}\r\n\r\nconst ReferUser = () => {\r\n  const { user } = useUserContext();\r\n\r\n  if(!user) return <p className=\"bg-transparent mt-52 text-center font-extrabold p-24 text-4xl\"> No se puede redireccionar, lo sentimos. </p>;\r\n\r\n  return <Navigate replace to={rolePages[user.role] ?? \"/\"} />\r\n}\r\n\r\nexport default ReferUser;","import { useUserContext } from \"../Context/UserContext\";\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst LockRoutes = ({role=\"user\", children }) => {\r\n  const { token, user } = useUserContext();\r\n  \r\n  if(!token) return <Navigate replace to=\"/login\"/>;\r\n  if(!user || user.role !== role) return <Navigate replace to=\"/404\"/>;\r\n\r\n  return children;\r\n}\r\n\r\nexport default LockRoutes;","import Login from './Pages/Login';\r\nimport User from './Pages/User';\r\nimport Admin from './Pages/Admin';\r\nimport ReferUser from './Pages/ReferUser';\r\nimport NotFound from './Pages/NotFound';\r\nimport './App.css';\r\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\nimport Lock from \"./Components/LockRoutes\"\r\n\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <Routes>        \r\n        <Route path=\"/login\" element={<Login />} /> \r\n        <Route path=\"/user\" element={<Lock role = \"user\" >< User/> </Lock>} />\r\n        <Route path=\"/admin\" element={<Lock role = \"admin\" >< Admin/> </Lock>} />\r\n        <Route path=\"/refer\" element={<ReferUser />}/>\r\n        <Route path=\"*\" element={<Login />}/>\r\n      </Routes>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { UserProvider } from './Context/UserContext'\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'font-awesome/css/font-awesome.min.css';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <UserProvider>\r\n      <App />\r\n    </UserProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}